# Merge vs Rebase — кратко

**Git merge**
- Объединяет ветки, сохраняет все коммиты и (при необходимости) создаёт *merge commit*.
- История ветвистая, честная.

Команда git merge ищет общий предок двух веток, вычисляет различия (diff) между ними, применяет их к текущей ветке и создаёт merge-коммит — снимок объединённого состояния, имеющий двух родителей.
Пример:
```
A --- B --- E   (main)
      \ 
       C --- D  (feature)

# после git checkout main && git merge feature
A --- B --- E --- M
      \         /
       C ----- D
```

Команды:
```
git checkout main
git merge feature
```

Когда Git merge не создаёт merge-коммит
Такое случается, когда Git может просто “перемотать” (fast-forward) ветку без необходимости делать настоящий merge.
Это называется fast-forward merge.
Что такое fast-forward merge
Если ветка, в которую ты вливаешь (например, main),
не имеет своих собственных коммитов после общего предка,
Git может просто сдвинуть указатель ветки на последний коммит целевой ветки.

**Git rebase**
- Переносит (переписывает) коммиты одной ветки поверх другой — получает линейную историю.
- Коммиты получают новые хэши (опасно для публичных веток).

Пример:
```
A --- B --- E   (main)
      \ 
       C --- D  (feature)

# после git checkout feature && git rebase main
A --- B --- E --- C' --- D'   (feature)
```

Команды:
```
git checkout feature
git rebase main
# при необходимости: git rebase --continue, git rebase --abort
```

**Когда что использовать**
- `merge` — когда ветка публичная или хотите сохранить реальную историю.
- `rebase` — когда хотите чистую линейную историю и работаете в своей локальной ветке (требует force-push для удалённой ветки).

**Важное предупреждение**
Никогда не делайте `rebase` публичной ветки, если её используют другие — это переписывает историю и создаст проблемы другим разработчикам.

git merge безопаснее, потому что он не переписывает историю, а просто создаёт новый merge-коммит, объединяя ветки.
git rebase же переписывает историю — пересоздаёт коммиты с новыми хэшами, что может сломать общую историю, если ветка уже опубликована.
